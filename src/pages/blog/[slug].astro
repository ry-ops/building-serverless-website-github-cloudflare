---
import Layout from '../../layouts/Layout.astro';

export function getStaticPaths() {
  return [
    {
      params: { slug: 'getting-started' },
      props: {
        title: 'Getting Started with Astro and Cloudflare Pages',
        date: '2026-01-27',
        content: `
          <p class="text-lg text-gray-700 mb-4">
            Welcome to your first blog post! This guide will help you understand how to work
            with Astro and deploy your site to Cloudflare Pages.
          </p>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">What is Astro?</h2>
          <p class="text-gray-700 mb-4">
            Astro is a modern static site generator that prioritizes performance. It ships
            zero JavaScript by default and only hydrates interactive components when needed.
          </p>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Project Setup</h2>
          <p class="text-gray-700 mb-4">
            To start developing your site, run these commands:
          </p>
          <pre class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-4 overflow-x-auto"><code>npm install
npm run dev</code></pre>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Creating Pages</h2>
          <p class="text-gray-700 mb-4">
            Pages are created in the <code class="bg-gray-200 px-2 py-1 rounded">src/pages</code> directory.
            Each <code class="bg-gray-200 px-2 py-1 rounded">.astro</code> file becomes a route automatically.
          </p>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Deployment</h2>
          <p class="text-gray-700 mb-4">
            When you push to GitHub, the GitHub Actions workflow automatically builds and
            deploys your site to Cloudflare Pages. No manual steps required!
          </p>

          <div class="bg-blue-50 border-l-4 border-blue-600 p-4 mt-6">
            <p class="text-gray-800">
              <strong>Tip:</strong> Check out the documentation folder for detailed guides
              on deployment, Astro features, and Cloudflare setup.
            </p>
          </div>
        `,
      },
    },
    {
      params: { slug: 'deploying-to-cloudflare' },
      props: {
        title: 'Deploying to Cloudflare Pages',
        date: '2026-01-27',
        content: `
          <p class="text-lg text-gray-700 mb-4">
            Learn how to deploy your Astro site to Cloudflare Pages using GitHub Actions.
          </p>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Prerequisites</h2>
          <ul class="list-disc list-inside space-y-2 text-gray-700 mb-4">
            <li>A Cloudflare account</li>
            <li>A GitHub repository</li>
            <li>Your site ready to deploy</li>
          </ul>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Step 1: Get Cloudflare Credentials</h2>
          <p class="text-gray-700 mb-4">
            You'll need your Cloudflare API token and Account ID. Get these from your
            Cloudflare dashboard under API Tokens.
          </p>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Step 2: Configure GitHub Secrets</h2>
          <p class="text-gray-700 mb-4">
            Add these secrets to your GitHub repository settings:
          </p>
          <ul class="list-disc list-inside space-y-2 text-gray-700 mb-4">
            <li><code class="bg-gray-200 px-2 py-1 rounded">CLOUDFLARE_API_TOKEN</code></li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">CLOUDFLARE_ACCOUNT_ID</code></li>
          </ul>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Step 3: Push to Deploy</h2>
          <p class="text-gray-700 mb-4">
            The GitHub Actions workflow is already configured. Just push to main:
          </p>
          <pre class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-4 overflow-x-auto"><code>git add .
git commit -m "Deploy to Cloudflare Pages"
git push origin main</code></pre>

          <h2 class="text-2xl font-bold text-gray-900 mb-3 mt-6">Monitoring Deployments</h2>
          <p class="text-gray-700 mb-4">
            Check the Actions tab in GitHub to monitor your deployment. Once complete,
            your site will be live on Cloudflare's global network!
          </p>
        `,
      },
    },
  ];
}

const { title, date, content } = Astro.props;
---

<Layout title={title} description={title}>
  <article class="max-w-3xl mx-auto">
    <header class="mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">{title}</h1>
      <time class="text-gray-600" datetime={date}>
        {new Date(date).toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        })}
      </time>
    </header>

    <div class="prose prose-lg max-w-none">
      <Fragment set:html={content} />
    </div>

    <footer class="mt-12 pt-8 border-t border-gray-200">
      <a
        href="/"
        class="inline-flex items-center text-blue-600 hover:text-blue-700"
      >
        ‚Üê Back to Home
      </a>
    </footer>
  </article>
</Layout>
